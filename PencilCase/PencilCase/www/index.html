<!DOCTYPE html>
<html>
<head>
    <!--
        Customize the content security policy in the meta tag below as needed. Add 'unsafe-inline' to default-src to enable inline JavaScript.
        For details, see http://go.microsoft.com/fwlink/?LinkID=617521
    -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *">

    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.min.css">

    <script type="text/javascript" src="cordova.js"></script>
    <!-- The 'async' attribute is needed for RequireJS to work in a Windows app -->
    <script type="text/javascript" data-main="scripts/startup" src="lib/require.2.1.8.js" async></script>
    <script type="text/javascript" src="scripts/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="scripts/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript" src="scripts/knockout-3.4.2.js"></script>
    <script type="text/javascript" src="scripts/CustomBindings/Bindings.js"></script>
    <script type="text/javascript" src="scripts/CustomBindings/ListviewBinding.js"></script>
</head>
<body>
    <!-- ==============Home Page================= -->
    <!-- Make sure the page id here is exactly the same as it defined in Consts.Pages -->
    <div data-role="page" id="HomePage">
        <!-- ko with: homePage() -->
        <div data-role="header">
            <h1>Pencil Case</h1>
        </div>
        <div role="main" class="ui-content">
            <a href="#Retail" class="ui-btn ui-corner-all" data-bind="click: openRetailPage">Retail</a>
            <a href="#Wholesale" class="ui-btn ui-corner-all" data-bind="disable: true">Wholesale</a>
            <a href="#ProductManagement" class="ui-btn ui-corner-all" data-bind="click: openProductManagementPage">Product Management</a>
            <a href="#DataAnalyse" class="ui-btn ui-corner-all">Data Analyse</a>
        </div>
        <footer data-role="footer" data-position="fixed">
            <h4>@Copyright - Frank</h4>
        </footer>
        <!-- /ko -->
    </div>

    <!-- ==============Product Management Page================= -->
    <!-- Try not bind UI stuff on Home Page like header and footer, because such UI binding will be applied until device ready,
        and at that time, static UI already loaded for a while, it is confusing for users becasue they can note that UI loaded at 2 different time point. -->
    <!-- Make sure the page id here is exactly the same as it defined in Consts.Pages -->
    <div data-role="page" id="ProductManagement">
        <!-- ko if: activePage().pageId === 'ProductManagement' -->
        <!-- ko with: activePage() -->
        <div data-role="header" data-add-back-btn="true" data-back-btn-text="Back" data-back-btn-theme="b">
            <a href="#HomePage" data-icon="home" data-bind="click: navigator.goHome">Home</a>
            <h1><span data-bind="text: title"></span></h1>
            <a href="#" data-icon="plus" class="ui-icon-plus" data-bind="click: addNewProduct">Add</a>
        </div>
        <div data-role="main" class="ui-content">
            <ul data-role="listview" data-inset="true" data-bind="foreach: products, listview: products">
                <li>
                    <a href="#" data-bind="click: $parent.showDetails">
                        <h2><span data-bind="text: Name"></span></h2>
                        <p>
                            <span>单价：</span>
                            <span data-bind="text: '￥' + RetailPrice"></span>
                        </p>
                        <p>
                            <span>批发价：</span>
                            <span data-bind="text: '￥' + WholesalePrice"></span>
                            <span data-bind="text: '(' + Times + RetailUnitName + '/' + WholesaleUnitName + ')'"></span>
                            <span class="ui-li-count" data-bind="text: '库存：' + Inventory"></span>
                        </p>
                    </a>
                </li>
            </ul>
        </div>
        <!-- /ko -->
        <!-- /ko -->
    </div>

    <!-- ==============Product Editor Page================= -->
    <!-- Make sure the page id here is exactly the same as it defined in Consts.Pages -->
    <div data-role="page" id="ProductEditor">
        <!-- ko if: activePage().pageId === 'ProductEditor' -->
        <!-- ko with: activePage() -->
        <div data-role="header">
            <a href="#ProductManagement" data-icon="back" data-bind="click: goBack">Back</a>
            <h1><span data-bind="text: title"></span></h1>
        </div>
        <div data-role="main" class="ui-content">
            <p><h2><span data-bind="text: name"></span></h2></p>
            <p>Product Editor Page</p>
        </div>
        <!-- /ko -->
        <!-- /ko -->
    </div>

    <!-- ==============Retail Page================= -->
    <!-- Make sure the page id here is exactly the same as it defined in Consts.Pages -->
    <div data-role="page" id="Retail">
        <!-- ko if: activePage().pageId === 'Retail' -->
        <!-- ko with: activePage() -->
        <div data-role="header">
            <a href="#HomePage" data-icon="home" data-bind="click: navigator.goHome">Home</a>
            <h1><span data-bind="text: title"></span></h1>
        </div>
        <div data-role="main" class="ui-content">
            <p>Retail Page</p>
        </div>
        <!-- /ko -->
        <!-- /ko -->
    </div>
</body>
</html>